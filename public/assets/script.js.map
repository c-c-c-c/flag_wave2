{"version":3,"sources":["../../src/script/script.js"],"names":["scene","THREE","Scene","plane","plane_god","controls","geometry","geometry_god","renderer","camera","model","SEGX","SEGY","startTime","Date","rotate_speed","vm","Vue","el","data","count","methods","countUp","changeRotateSpeed","vm_stop","hsStop","Speed_0","renderFlag","light","ambient","width","height","modelPath","DirectionalLight","position","set","add","PerspectiveCamera","window","innerWidth","innerHeight","lookAt","Vector3","gridHelper","GridHelper","axisHelper","AxisHelper","lightHelper","DirectionalLightHelper","WebGLRenderer","antialias","alpha","setSize","setClearColor","setPixelRatio","devicePixelRatio","document","getElementById","appendChild","domElement","loader","TextureLoader","load","texture","PlaneGeometry","material","MeshBasicMaterial","map","transparent","Mesh","scale","loader2","material_god","render","verticesNeedUpdate","time","i","j","index","vertex","vertices","vertex_god","amp","z","Math","sin","rotation","requestAnimationFrame"],"mappings":"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","file":"script.js","sourcesContent":["\n\nlet scene = new THREE.Scene();\nlet plane;\nlet plane_god;\nlet controls;\nlet geometry;\nlet geometry_god;\nlet renderer;\nlet camera;\nlet model = [];\nlet SEGX = 11;\nlet SEGY = 11;\nlet startTime = new Date();\nlet rotate_speed = 0;\n\n//let model = {};\n\n\nlet vm = new Vue({\n  el: '#mycounter',\n  data: {\n    count: 0\n  },\n  methods: {\n    countUp: function() {\n            this.count++;\n            \tchangeRotateSpeed ();\n      }\n  }\n});\n\nlet vm_stop = new Vue({\n  el: '#mystop',\n  methods: {\n    hsStop: function() {\n            Speed_0();\n    }\n  }\n});\n\n\nfunction renderFlag () {\n  'use strict';\n  let light;\n  let ambient;\n  let width = 1000;\n  let height = 750;\n\tlet modelPath ;\n\n   //light\n\t //light = new THREE.PointLight(0xffffff,2);\n\t //light.position.set(100,0,300);\n\t //scene.add(light);\n\n  light = new THREE.DirectionalLight(0xffffff, 1);\n  light.position.set(100, 0, 300);\n  scene.add(light);\n/*\n  ambient = new THREE.AmbientLight(0x404040);\n  scene.add(ambient);\n*/\n\t//camera\n  //camera = new THREE.PerspectiveCamera(45, width /　height, 1 , 1000);\n\tcamera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 14000);\n\tcamera.position.set(0,0,1000);\n  camera.lookAt(new THREE.Vector3(0,0,0));\n\n//  camera.position.set(0, 400, 300);\n//  camera.lookAt(scene.position);\n\n  // helper 現在は非表示\n  let gridHelper = new THREE.GridHelper(200, 50);\n//  scene.add(gridHelper);\n  let axisHelper = new THREE.AxisHelper(1000);\n//  scene.add(axisHelper);\n  let lightHelper = new THREE.DirectionalLightHelper(light , 20)\n//  scene.add(lightHelper);\n\n  //controls\n  //controls = new THREE.OrbitControls(camera);\n  //cameraの自動回転\n//  controls.autoRotate = true;\n  //controls.autoRotateSpeed = 1.5;\n\n  // renderer\n  renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true  });\n  renderer.setSize(width, height);\n  renderer.setClearColor(0xffffff);\n  renderer.setPixelRatio(window.devicePixelRatio);\n  document.getElementById('stage').appendChild(renderer.domElement);\n\n\n\t//var texture = new THREE.TextureLoader().load(\"./public/img/italy.jpg\");\n\t//var texture = new THREE.TextureLoader().load(\"./public/img/dice.jpg\");\n\t//テクスチャ読み込み\n\tlet loader = new THREE.TextureLoader();\n\t//let texture=loader.load('./public/img/dice.jpg');\n\tloader.load('./public/img/flag_bg.png', (texture) => {\n\t\tgeometry = new THREE.PlaneGeometry(973, 703, SEGX, SEGY);\n\t\tlet material = new THREE.MeshBasicMaterial({map:texture, transparent:true} );\n\t\t//let material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n\t\t//var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n\t\t//var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n\t\tplane = new THREE.Mesh(geometry, material);\n\t\tplane.scale.set(1.2, 1.2, 1.2);\n\t\tscene.add(plane);\n\n\t\tlet loader2 = new THREE.TextureLoader();\n\t\tloader.load('./public/img/flag_moyo.png', (texture) => {\n\t\t\tgeometry_god = new THREE.PlaneGeometry(973, 703, SEGX, SEGY);\n\t\t\tlet material_god = new THREE.MeshBasicMaterial({map:texture, transparent:true} );\n\t\t\t//let material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n\t\t\t//var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n\t\t\t//var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n\t\t\tplane_god = new THREE.Mesh(geometry_god, material_god);\n\t\t\tplane_god.scale.set(0.7, 0.7, 0.7);\n\n\t\t\tscene.add(plane_god);\n\t\t\trender();\n\t\t});\n\t});\n\n\n\t//console.log(texture);\n\t//texture.needsUpdate = true;\n\n//\tvar geometry = new THREE.PlaneGeometry(1300, 1228, SEGX, SEGY);\n}\n\nfunction render () {\n\n\tplane.geometry.verticesNeedUpdate=true;//これを忘れずに書く\n\tplane_god.geometry.verticesNeedUpdate=true;//これを忘れずに書く\n\tlet time = (new Date() - startTime)/1000;\n\n\tfor (let i=0;i<SEGX+1;i++) {\n\t\tfor (let j=0;j<SEGY+1;j++) {\n\t\t\t//(i,j)のvertexを得る\n\t\t\tlet index = j * (SEGX + 1) + i % (SEGX + 1);\n\t\t\tlet vertex = plane.geometry.vertices[index];\n\t\t\tlet vertex_god = plane_god.geometry.vertices[index];\n\t\t\t//時間経過と頂点の位置によって波を作る\n\t\t\tlet amp=100;//振幅\n\t\t\tvertex.z = amp * Math.sin( -i/2 + time*10 );\n\t\t\tvertex_god.z = amp * Math.sin( -i/2 + time*10) + 200;\n\n\t\t}\n\t}\n\n\tplane_god.rotation.z += rotate_speed;\n\n  requestAnimationFrame(render);\n\t//controls.update();\n  renderer.render(scene, camera);\n}\n\n\nrenderFlag();\n\nfunction changeRotateSpeed () {\n  //controls.autoRotateSpeed = vm.count*10;\n \trotate_speed -= vm.count*0.01;\n\n}\n\nfunction Speed_0 () {\n  vm.count = 0;\n  rotate_speed = 0;\n \t//addSpinner();\n}\n"]}